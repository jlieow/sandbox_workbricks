{
  "version": 4,
  "terraform_version": "1.13.2",
  "serial": 76,
  "lineage": "a9fc7a52-6bf6-3863-be0b-f5bae51fb24f",
  "outputs": {
    "databricks_job": {
      "value": "73351115276522",
      "type": "string"
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "databricks_current_user",
      "name": "me",
      "provider": "provider[\"registry.terraform.io/databricks/databricks\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "acl_principal_id": "users/jerome.lieow@databricks.com",
            "alphanumeric": "jerome_lieow",
            "external_id": "",
            "home": "/Users/jerome.lieow@databricks.com",
            "id": "78573460915885",
            "repos": "/Repos/jerome.lieow@databricks.com",
            "user_name": "jerome.lieow@databricks.com",
            "workspace_url": "https://dbc-ff528368-054e.cloud.databricks.com"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "managed",
      "type": "databricks_job",
      "name": "process_emp_data_by_dept",
      "provider": "provider[\"registry.terraform.io/databricks/databricks\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "always_running": false,
            "budget_policy_id": null,
            "continuous": [],
            "control_run_state": false,
            "dbt_task": [],
            "deployment": [],
            "description": "This job executes multiple notebooks.",
            "edit_mode": null,
            "email_notifications": [
              {
                "no_alert_for_skipped_runs": false,
                "on_duration_warning_threshold_exceeded": [],
                "on_failure": [],
                "on_start": [],
                "on_streaming_backlog_exceeded": [],
                "on_success": []
              }
            ],
            "environment": [],
            "existing_cluster_id": null,
            "format": "MULTI_TASK",
            "git_source": [],
            "health": [],
            "id": "73351115276522",
            "job_cluster": [],
            "library": [],
            "max_concurrent_runs": 1,
            "max_retries": 0,
            "min_retry_interval_millis": 0,
            "name": "Job - process_emp_data_by_dept",
            "new_cluster": [],
            "notebook_task": [],
            "notification_settings": [],
            "parameter": [],
            "performance_target": null,
            "pipeline_task": [],
            "python_wheel_task": [],
            "queue": [
              {
                "enabled": false
              }
            ],
            "retry_on_timeout": false,
            "run_as": [
              {
                "service_principal_name": "",
                "user_name": "jerome.lieow@databricks.com"
              }
            ],
            "run_job_task": [],
            "schedule": [],
            "spark_jar_task": [],
            "spark_python_task": [],
            "spark_submit_task": [],
            "tags": null,
            "task": [
              {
                "clean_rooms_notebook_task": [],
                "condition_task": [],
                "dashboard_task": [],
                "dbt_cloud_task": [],
                "dbt_platform_task": [],
                "dbt_task": [],
                "depends_on": [],
                "description": "",
                "disable_auto_optimization": false,
                "email_notifications": [
                  {
                    "no_alert_for_skipped_runs": false,
                    "on_duration_warning_threshold_exceeded": [],
                    "on_failure": [],
                    "on_start": [],
                    "on_streaming_backlog_exceeded": [],
                    "on_success": []
                  }
                ],
                "environment_key": "",
                "existing_cluster_id": "",
                "for_each_task": [],
                "gen_ai_compute_task": [],
                "health": [],
                "job_cluster_key": "",
                "library": [],
                "max_retries": 0,
                "min_retry_interval_millis": 0,
                "new_cluster": [],
                "notebook_task": [
                  {
                    "base_parameters": {
                      "input_date": "{{job.start_time.iso_datetime}}"
                    },
                    "notebook_path": "/Users/jerome.lieow@databricks.com/terraform_notebooks/job_sample/01_get_run_day",
                    "source": "WORKSPACE",
                    "warehouse_id": ""
                  }
                ],
                "notification_settings": [],
                "pipeline_task": [],
                "power_bi_task": [],
                "python_wheel_task": [],
                "retry_on_timeout": false,
                "run_if": "ALL_SUCCESS",
                "run_job_task": [],
                "spark_jar_task": [],
                "spark_python_task": [],
                "spark_submit_task": [],
                "sql_task": [],
                "task_key": "01_set_day",
                "timeout_seconds": 0,
                "webhook_notifications": []
              },
              {
                "clean_rooms_notebook_task": [],
                "condition_task": [],
                "dashboard_task": [],
                "dbt_cloud_task": [],
                "dbt_platform_task": [],
                "dbt_task": [],
                "depends_on": [
                  {
                    "outcome": "true",
                    "task_key": "check_day"
                  }
                ],
                "description": "",
                "disable_auto_optimization": false,
                "email_notifications": [
                  {
                    "no_alert_for_skipped_runs": false,
                    "on_duration_warning_threshold_exceeded": [],
                    "on_failure": [],
                    "on_start": [],
                    "on_streaming_backlog_exceeded": [],
                    "on_success": []
                  }
                ],
                "environment_key": "",
                "existing_cluster_id": "",
                "for_each_task": [
                  {
                    "concurrency": 0,
                    "inputs": "[ \"sales\", \"office\" ]",
                    "task": [
                      {
                        "clean_rooms_notebook_task": [],
                        "condition_task": [],
                        "dashboard_task": [],
                        "dbt_cloud_task": [],
                        "dbt_platform_task": [],
                        "dbt_task": [],
                        "depends_on": [],
                        "description": "",
                        "disable_auto_optimization": false,
                        "email_notifications": [
                          {
                            "no_alert_for_skipped_runs": false,
                            "on_duration_warning_threshold_exceeded": [],
                            "on_failure": [],
                            "on_start": [],
                            "on_streaming_backlog_exceeded": [],
                            "on_success": []
                          }
                        ],
                        "environment_key": "",
                        "existing_cluster_id": "",
                        "gen_ai_compute_task": [],
                        "health": [],
                        "job_cluster_key": "",
                        "library": [],
                        "max_retries": 0,
                        "min_retry_interval_millis": 0,
                        "new_cluster": [],
                        "notebook_task": [
                          {
                            "base_parameters": {
                              "dept": "{{input}}"
                            },
                            "notebook_path": "/Users/jerome.lieow@databricks.com/terraform_notebooks/job_sample/02_write_emp_data",
                            "source": "WORKSPACE",
                            "warehouse_id": ""
                          }
                        ],
                        "notification_settings": [],
                        "pipeline_task": [],
                        "power_bi_task": [],
                        "python_wheel_task": [],
                        "retry_on_timeout": false,
                        "run_if": "ALL_SUCCESS",
                        "run_job_task": [],
                        "spark_jar_task": [],
                        "spark_python_task": [],
                        "spark_submit_task": [],
                        "sql_task": [],
                        "task_key": "02_process_data_iteration",
                        "timeout_seconds": 0,
                        "webhook_notifications": []
                      }
                    ]
                  }
                ],
                "gen_ai_compute_task": [],
                "health": [],
                "job_cluster_key": "",
                "library": [],
                "max_retries": 0,
                "min_retry_interval_millis": 0,
                "new_cluster": [],
                "notebook_task": [],
                "notification_settings": [],
                "pipeline_task": [],
                "power_bi_task": [],
                "python_wheel_task": [],
                "retry_on_timeout": false,
                "run_if": "ALL_SUCCESS",
                "run_job_task": [],
                "spark_jar_task": [],
                "spark_python_task": [],
                "spark_submit_task": [],
                "sql_task": [],
                "task_key": "02_process_data",
                "timeout_seconds": 0,
                "webhook_notifications": []
              },
              {
                "clean_rooms_notebook_task": [],
                "condition_task": [],
                "dashboard_task": [],
                "dbt_cloud_task": [],
                "dbt_platform_task": [],
                "dbt_task": [],
                "depends_on": [
                  {
                    "outcome": "false",
                    "task_key": "check_day"
                  }
                ],
                "description": "",
                "disable_auto_optimization": false,
                "email_notifications": [
                  {
                    "no_alert_for_skipped_runs": false,
                    "on_duration_warning_threshold_exceeded": [],
                    "on_failure": [],
                    "on_start": [],
                    "on_streaming_backlog_exceeded": [],
                    "on_success": []
                  }
                ],
                "environment_key": "",
                "existing_cluster_id": "",
                "for_each_task": [],
                "gen_ai_compute_task": [],
                "health": [],
                "job_cluster_key": "",
                "library": [],
                "max_retries": 0,
                "min_retry_interval_millis": 0,
                "new_cluster": [],
                "notebook_task": [
                  {
                    "base_parameters": {},
                    "notebook_path": "/Users/jerome.lieow@databricks.com/terraform_notebooks/job_sample/03_else_condition",
                    "source": "WORKSPACE",
                    "warehouse_id": ""
                  }
                ],
                "notification_settings": [],
                "pipeline_task": [],
                "power_bi_task": [],
                "python_wheel_task": [],
                "retry_on_timeout": false,
                "run_if": "ALL_SUCCESS",
                "run_job_task": [],
                "spark_jar_task": [],
                "spark_python_task": [],
                "spark_submit_task": [],
                "sql_task": [],
                "task_key": "03_else_condition",
                "timeout_seconds": 0,
                "webhook_notifications": []
              },
              {
                "clean_rooms_notebook_task": [],
                "condition_task": [
                  {
                    "left": "{{tasks.01_set_day.values.input_day}}",
                    "op": "EQUAL_TO",
                    "right": "Sun"
                  }
                ],
                "dashboard_task": [],
                "dbt_cloud_task": [],
                "dbt_platform_task": [],
                "dbt_task": [],
                "depends_on": [
                  {
                    "outcome": "",
                    "task_key": "01_set_day"
                  }
                ],
                "description": "",
                "disable_auto_optimization": false,
                "email_notifications": [
                  {
                    "no_alert_for_skipped_runs": false,
                    "on_duration_warning_threshold_exceeded": [],
                    "on_failure": [],
                    "on_start": [],
                    "on_streaming_backlog_exceeded": [],
                    "on_success": []
                  }
                ],
                "environment_key": "",
                "existing_cluster_id": "",
                "for_each_task": [],
                "gen_ai_compute_task": [],
                "health": [],
                "job_cluster_key": "",
                "library": [],
                "max_retries": 0,
                "min_retry_interval_millis": 0,
                "new_cluster": [],
                "notebook_task": [],
                "notification_settings": [],
                "pipeline_task": [],
                "power_bi_task": [],
                "python_wheel_task": [],
                "retry_on_timeout": false,
                "run_if": "ALL_SUCCESS",
                "run_job_task": [],
                "spark_jar_task": [],
                "spark_python_task": [],
                "spark_submit_task": [],
                "sql_task": [],
                "task_key": "check_day",
                "timeout_seconds": 0,
                "webhook_notifications": []
              }
            ],
            "timeout_seconds": 0,
            "timeouts": null,
            "trigger": [],
            "url": "https://dbc-ff528368-054e.cloud.databricks.com/#job/73351115276522",
            "webhook_notifications": [
              {
                "on_duration_warning_threshold_exceeded": [],
                "on_failure": [],
                "on_start": [],
                "on_streaming_backlog_exceeded": [],
                "on_success": []
              }
            ]
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJ1cGRhdGUiOjE4MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "data.databricks_current_user.me",
            "databricks_notebook._01_get_run_day",
            "databricks_notebook._02_write_emp_data",
            "databricks_notebook._03_else_condition"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "databricks_notebook",
      "name": "_01_get_run_day",
      "provider": "provider[\"registry.terraform.io/databricks/databricks\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "content_base64": "IyBEYXRhYnJpY2tzIG5vdGVib29rIHNvdXJjZQojIElTTyBEYXRlIElucHV0IGZvcm1hdCAtIDIwMjQtMTAtMjdUMTM6MDA6MDAgKNGD0YPRg9GDLU1NLWRkVEhIOiBtbTogc3MpCiMgUmVhZCBkYXRlIGFzIGlucHV0IGFuZCBnZXQgdGhlIGRheSBvZiB3ZWVrIC0gTGlrZSBTdW4sIE1vbiBldGMKIyBDcmVhdGUgaW5wdXRfZGF0ZSB3aWRnZXQKZGJ1dGlscy53aWRnZXRzLnRleHQoImlucHV0X2RhdGUiLCAiIikKCiMgQ09NTUFORCAtLS0tLS0tLS0tCgojIFJlYWQgdmFsdWUgZnJvbSB3aWRnZXQKX2lucHV0X2RhdGUgPSBkYnV0aWxzLndpZGdldHMuZ2V0KCJpbnB1dF9kYXRlIikKcHJpbnQoX2lucHV0X2RhdGUpCgojIENPTU1BTkQgLS0tLS0tLS0tLQoKIyBTZXQgY29uZiB0byBMRUdBQ1kgdG8gc3VwcG9ydCBkYXRldGltZSBwYXR0ZXJucwpzcGFyay5jb25mLnNldCgic3Bhcmsuc3FsLmxlZ2FjeS50aW1lUGFyc2VyUG9saWN5IiwgIkxFR0FDWSIpCl9pbnB1dF9kYXkgPSBzcGFyay5zcWwgKGYiIiIKICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0IGRhdGVfZm9ybWF0KHRvX3RpbWVzdGFtcCgne19pbnB1dF9kYXRlfScsICJ5eXl5LU1NLWRkJ1QnSEg6bW06c3MiKSwgJ0UnKQogICAgICAgICAgICAgICAgICAgICAgICAiIiIpLmNvbGxlY3QoKVswXVswXQpwcmludChfaW5wdXRfZGF5KQoKIyBDT01NQU5EIC0tLS0tLS0tLS0KCiMgRXhwb3J0IHRoZSBkYXkgb2Ygd2VlayB1c2luZyB0YXNrVmFsdWVzIHRvIHVzZSBpbiBuZXh0IHRhc2sKZGJ1dGlscy5qb2JzLnRhc2tWYWx1ZXMuc2V0KCJpbnB1dF9kYXkiLCBfaW5wdXRfZGF5KQ==",
            "format": "SOURCE",
            "id": "/Users/jerome.lieow@databricks.com/terraform_notebooks/job_sample/01_get_run_day",
            "language": "PYTHON",
            "md5": "319b747663d620afe5cef7c26ff27785",
            "object_id": 1768236376887740,
            "object_type": "NOTEBOOK",
            "path": "/Users/jerome.lieow@databricks.com/terraform_notebooks/job_sample/01_get_run_day",
            "source": null,
            "url": "https://dbc-ff528368-054e.cloud.databricks.com/#workspace/Users/jerome.lieow@databricks.com/terraform_notebooks/job_sample/01_get_run_day",
            "workspace_path": "/Workspace/Users/jerome.lieow@databricks.com/terraform_notebooks/job_sample/01_get_run_day"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "data.databricks_current_user.me"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "databricks_notebook",
      "name": "_02_write_emp_data",
      "provider": "provider[\"registry.terraform.io/databricks/databricks\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "content_base64": "IyBEYXRhYnJpY2tzIG5vdGVib29rIHNvdXJjZQojIFZpZXcgZGF0YSBhdCBsb2NhdGlvbiAvZGF0YWJyaWNrcy1kYXRhc2V0cy9yZXRhaWwtb3JnL2NvbXBhbnlfZW1wbG95ZWVzL2NvbXBhbnlfZW1wbG95ZWVzLmNzdgoKZGlzcGxheShkYnV0aWxzLmZzLmhlYWQoIi9kYXRhYnJpY2tzLWRhdGFzZXRzL3JldGFpbC1vcmcvY29tcGFueV9lbXBsb3llZXMvY29tcGFueV9lbXBsb3llZXMuY3N2IikpCgojIENPTU1BTkQgLS0tLS0tLS0tLQoKIyBDcmVhdGUgUGFyYW1ldGVyIGRlcHQKCmRidXRpbHMud2lkZ2V0cy50ZXh0KCJkZXB0IiwgIiIsICJEZXBhcnRtZW50IE5hbWUiKQoKIyBDT01NQU5EIC0tLS0tLS0tLS0KCiMgR2V0IHRoZSBwYXJhbWV0ZXIgdmFsdWUgaW4gYSB2YXJpYWJsZSBfZGVwdAoKX2RlcHQgPSBkYnV0aWxzLndpZGdldHMuZ2V0KCJkZXB0IikKCiMgQ09NTUFORCAtLS0tLS0tLS0tCgpwcmludChfZGVwdCkKCiMgQ09NTUFORCAtLS0tLS0tLS0tCgojIFJlYWQgYWxsIGRhdGEgdGhyb3VnaCBTcGFyawpkZiA9IHNwYXJrLnJlYWQuY3N2KCIvZGF0YWJyaWNrcy1kYXRhc2V0cy9yZXRhaWwtb3JnL2NvbXBhbnlfZW1wbG95ZWVzL2NvbXBhbnlfZW1wbG95ZWVzLmNzdiIsIGhlYWRlcj1UcnVlKQoKIyBDT01NQU5EIC0tLS0tLS0tLS0KCmRpc3BsYXkoZGYpCgojIENPTU1BTkQgLS0tLS0tLS0tLQoKIyBGaWx0ZXIgZGF0YSBiYXNlZCBvbiBkZXBhcnRtZW50IGFuZCBhY3RpdmVfcmVjb3JkCmRmX2ZpbHRlcmVkID0gZGYud2hlcmUoZiJ1cHBlciAoZGVwYXJ0bWVudCkgPSB1cHBlciAoJ3tfZGVwdH0nKSBhbmQgYWN0aXZlX3JlY29yZCA9ICcxJyIpCgojIENPTU1BTkQgLS0tLS0tLS0tLQoKZGlzcGxheShkZl9maWx0ZXJlZCkKCiMgQ09NTUFORCAtLS0tLS0tLS0tCgojIFdyaXRlIGRhdGEgdG8gZGVsdGEgdGFibGUgd2l0aCBkZXBhcnRtZW50IG5hbWUKX2NvdW50ID0gZGZfZmlsdGVyZWQuY291bnQoKQppZiBfY291bnQgPiAwOgogICAgZGZfZmlsdGVyZWQud3JpdGUubW9kZSgib3ZlcndyaXRlIikuc2F2ZUFzVGFibGUoZiJkZXYuYnJvbnplLmRlcHRfe19kZXB0fSIpCiAgICBwcmludChmIkRhdGEgd3JpdHRlbiBmb3Ige19kZXB0fSIpCiAgICBkaXNwbGF5KHNwYXJrLnRhYmxlKGYiZGV2LmJyb256ZS5kZXB0X3tfZGVwdH0iKSkKZWxzZToKICAgIHByaW50IChmIk5vIGRhdGEgZm9yIHtfZGVwdH0iKQoKIyBDT01NQU5EIC0tLS0tLS0tLS0KCiMgRXhpdCBzdGF0dXMgYXMgLSBudW1iZXIgb2YgcmVjb3JkcyB3cml0dGVuCmRidXRpbHMubm90ZWJvb2suZXhpdCAoX2NvdW50KQ==",
            "format": "SOURCE",
            "id": "/Users/jerome.lieow@databricks.com/terraform_notebooks/job_sample/02_write_emp_data",
            "language": "PYTHON",
            "md5": "f817c3ca00285f16a04d83713754f025",
            "object_id": 1768236376887739,
            "object_type": "NOTEBOOK",
            "path": "/Users/jerome.lieow@databricks.com/terraform_notebooks/job_sample/02_write_emp_data",
            "source": null,
            "url": "https://dbc-ff528368-054e.cloud.databricks.com/#workspace/Users/jerome.lieow@databricks.com/terraform_notebooks/job_sample/02_write_emp_data",
            "workspace_path": "/Workspace/Users/jerome.lieow@databricks.com/terraform_notebooks/job_sample/02_write_emp_data"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "data.databricks_current_user.me"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "databricks_notebook",
      "name": "_03_else_condition",
      "provider": "provider[\"registry.terraform.io/databricks/databricks\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "content_base64": "IyBEYXRhYnJpY2tzIG5vdGVib29rIHNvdXJjZQpfZGF5ID0gZGJ1dGlscy5qb2JzLnRhc2tWYWx1ZXMuZ2V0KCIwMV9zZXRfZGF5IiwgImlucHV0X2RheSIpCnByaW50IChfZGF5KQ==",
            "format": "SOURCE",
            "id": "/Users/jerome.lieow@databricks.com/terraform_notebooks/job_sample/03_else_condition",
            "language": "PYTHON",
            "md5": "1f9098380c24f33df551c0566e2a88f3",
            "object_id": 1768236376887741,
            "object_type": "NOTEBOOK",
            "path": "/Users/jerome.lieow@databricks.com/terraform_notebooks/job_sample/03_else_condition",
            "source": null,
            "url": "https://dbc-ff528368-054e.cloud.databricks.com/#workspace/Users/jerome.lieow@databricks.com/terraform_notebooks/job_sample/03_else_condition",
            "workspace_path": "/Workspace/Users/jerome.lieow@databricks.com/terraform_notebooks/job_sample/03_else_condition"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "data.databricks_current_user.me"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "null_resource",
      "name": "trigger_job",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "2060752434615950250",
            "triggers": {
              "value": "2025-09-20T20:58:46Z"
            }
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "data.databricks_current_user.me",
            "databricks_job.process_emp_data_by_dept",
            "databricks_notebook._01_get_run_day",
            "databricks_notebook._02_write_emp_data",
            "databricks_notebook._03_else_condition"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
